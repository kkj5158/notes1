#Docker #DevOps 
# 도커란 ? 
![[도커이미지 격리.png]]
## 격리 컨테이너 

도커를 한마디로 정의하면 **'데이터 또는 프로그램을 격리시키는 기능**'을 제공하는 소프트웨어라고 할 수 있다. 예를 들어 , 개인용 컴퓨터 또는 서버 상의 환경을 마치 코스트코에서 판매하는 조립형 창고 같은 작은 방으로 분할하면 어떻게 될까 . 그리고 이렇게 작게 쪼갠 독립된 창고에 데이터나 프로그램을 두는 것 이다．이 조립형 창고를 컨테이너라고 한다 . 그리고 이 컨테이너를 다루는 기능을 제공하는 소프트웨어가 도커이다. 

## 프로그램을 독립된 환경에 격리해야 하는 이유

대부분의 프로그램은 프로그램 단독으로 동작하는 것이 아니라 어떤 실행 환경이나 라이브러리 , 다른 프로그램을 이용해 동작한다. 예를 들어서 워드프레스는 MYSQL 데이터베이스를 따로 갖추지 않으면 사용할 수 없다. 또한 다른 프로그램과 특정한 폴더 또는 디렉터리를 공유하거나 같은 경로에 설정 정보를 저장하는 경우도 있다．

문제는 이와같은 상황들에서 발생한다. **프로그램 하나를 업데이트하면 다른 프로그램에도 영향을 미치게 된다**

```

시스템 A , B는 <가> 프로그램 5.0버전 이하에서만 정상 작동한다. 
하지만, 이번에 서버에 새로 적용되는 시스템 C가 <가> 프로그램 5.0버전 이상에서만 정상 작동한다면 ? <가> 프로그램은 공유 프로그램이므로 A,B,C를 동시에 사용할 수 없다. 

이런 시나리오는 그나마 괜찮다. 개발자는 모든 프로그램이 어떤 버전에서 호환성을 가지는지 일일히 체크할 수 없다. 만약 C가 도입되면서 <가> 프로그램을 5.0이상으로 업그레이드 했는데, 이후에 A,B가 구동이 되지 않는다면? 개발자는 오류 원인을 찾기 위해 자원을 소모할 수 밖에 없다. 
(만약 수십,수백개의 프로그램과 설정이 얽혀있는 환경이라면 찾아내는데 매우 많은 시간이 소요된다.)

```

도커컨테이너의 <격리>를 통해서 이러한 문제를 해결할 수 있다. 예를 들어 , 시스템 A,B가 <가>프로그램의 5.0 버전을 사용하고 , 시스템 C는 <가> 프로그램의 6.0 버전을 사용해야 하는 상황이라면 이들을 세트로 묶어 따로 격리하면 된다．


## 개발환경을 배달해보자. 
![[도커 컨테이너 공유.png]]

컨테이너는 자유로이 옮길 수 있다. 실제로는 컨테이너 자쳬를 옮긴다기보다는 컨테이너의 정보를 내보내기한 다음 , 다른 도커 엔진에서 복원하는 형태가 되지만 어쨋든 컨테이너를 어떤 도커 엔진에서 다른 도커 엔진으로 옮기기는 그리 어려운 일이 아니다이런 특정을 이용하면 똑같은 상태로 튜닝한 컨테이너를 팀원 전원에게 배포해 모두가 동일한 개발환경을 사용할 수 있다. 도커를 이용하면 물리적 환경의 차이 . 서버 구성의 차이를 무시할 수 있으므로 운영 서버와 개발 서버 의 환경 자이로 인한 문제를 원천적으로 방지할 수 있다

```
예를 들어서, 개발팀 100명이 동일한 프로그램과 설정 50개를 기반으로 시스템 A를 개발한다고 생각해보자. 도커를 이용하면 개발자 1명의 개발환경을 컨테이너화 시켜서 100명 모두에게 전달해주면 된다. 이는 프로그램 50개를 도커없이 개발자 100명이 자신의 로컬환경에 구성하는 일보다 훨씬 더 효율적으로 일을 처리하는 방식이다. 
```



